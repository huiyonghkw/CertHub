# SSL证书域名配置文件示例
# 支持单域名和泛域名证书配置
#
# 部署方式说明:
#   deploy_method: auto   - 自动部署到服务器（默认）
#   deploy_method: manual - 手动上传到七牛云等CDN，批量处理时会跳过
#
# 配置格式说明:
# - domain: 主域名
#   subdomains: 子域名列表（可选）
#     支持两种格式：
#     1. 简单格式（字符串）：- subdomain.example.com
#     2. 扩展格式（对象）：
#        - domain: subdomain.example.com
#          deploy_dir: custom-dir        # 可选：自定义部署目录
#          cert_filename: fullchain.cer  # 可选：证书文件名
#          key_filename: domain.key      # 可选：私钥文件名
#          deploy_method: auto           # 可选：部署方式 (auto/manual)，默认auto
#   wildcard: 是否生成泛域名证书（true/false）
#   dns_provider: DNS提供商标识
#   servers: 部署到的服务器列表
#   cert_type: 证书类型（single/wildcard）
#   auto_renew: 自动续期（true/false）
#   renew_before_days: 过期前几天续期（默认30天）

domains:
  # 示例1: 泛域名证书配置（自动部署）
  - domain: example.com
    subdomains:
      - domain: api.example.com
        deploy_method: auto
        deploy_dir: example.com
        cert_filename: example.com.cer
        key_filename: example.com.key
      - domain: www.example.com
        deploy_method: auto
        deploy_dir: example.com
        cert_filename: example.com.cer
        key_filename: example.com.key
    wildcard: true
    dns_provider: aliyun
    servers:
      - server_prod_01
    cert_type: wildcard
    auto_renew: true
    renew_before_days: 30
    description: "示例网站SSL证书"

  # 示例2: 泛域名证书配置（手动部署到CDN）
  - domain: static.example.com
    subdomains:
      - domain: cdn.static.example.com
        deploy_method: manual  # 手动上传到七牛云/阿里云OSS等
    wildcard: true
    dns_provider: aliyun
    cert_type: wildcard
    auto_renew: true
    renew_before_days: 30
    description: "静态资源CDN证书"

  # 示例3: 多子域名配置
  - domain: shop.example.com
    subdomains:
      - domain: api.shop.example.com
        deploy_method: auto
        deploy_dir: shop.example.com
        cert_filename: fullchain.cer
        key_filename: shop.example.com.key
      - domain: admin.shop.example.com
        deploy_method: auto
        deploy_dir: shop.example.com
        cert_filename: fullchain.cer
        key_filename: shop.example.com.key
    wildcard: true
    dns_provider: tencent
    servers:
      - server_prod_01
      - server_prod_02
    cert_type: wildcard
    auto_renew: true
    renew_before_days: 30
    description: "商城平台SSL证书"

  # 示例4: 使用不同DNS提供商
  - domain: app.example.net
    subdomains:
      - domain: api.app.example.net
        deploy_method: auto
        deploy_dir: app.example.net
        cert_filename: app.example.net.pem
        key_filename: app.example.net.key
    wildcard: true
    dns_provider: cloudflare
    servers:
      - server_staging_01
    cert_type: wildcard
    auto_renew: true
    renew_before_days: 30
    description: "应用平台SSL证书"

# 全局配置
global:
  # 默认证书有效期检查间隔（小时）
  check_interval: 24

  # 默认续期提前天数
  default_renew_before_days: 30

  # 证书存储根目录
  cert_base_dir: "/data/certs"

  # 日志级别 (DEBUG/INFO/WARN/ERROR)
  log_level: INFO

  # 最大并发任务数
  max_concurrent_tasks: 3

  # 重试次数
  retry_count: 3

  # 重试间隔（秒）
  retry_interval: 30

  # 默认部署方式 (auto/manual)
  # auto: 自动部署到服务器
  # manual: 手动上传到七牛云等CDN
  default_deploy_method: auto
